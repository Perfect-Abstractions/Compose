---
sidebar_position: 99
title: "OwnerFacet"
description: "Ownership management facet for Compose diamonds"
gitSource: "https://github.com/maxnorm/Compose/blob/4f58223f08f652d9b72a6792643c40cac4f0f4a0/src/access/Owner/OwnerFacet.sol"
---

import DocSubtitle  from '@site/src/components/docs/DocSubtitle';
import Badge from '@site/src/components/ui/Badge';
import Callout from '@site/src/components/ui/Callout';
import CalloutBox from '@site/src/components/ui/CalloutBox';
import Accordion, { AccordionGroup } from '@site/src/components/ui/Accordion';
import PropertyTable from '@site/src/components/api/PropertyTable';
import ExpandableCode from '@site/src/components/code/ExpandableCode';
import CodeShowcase from '@site/src/components/code/CodeShowcase';
import RelatedDocs from '@site/src/components/docs/RelatedDocs';
import WasThisHelpful from '@site/src/components/docs/WasThisHelpful';
import LastUpdated from '@site/src/components/docs/LastUpdated';
import ReadingTime from '@site/src/components/docs/ReadingTime';
import GradientText from '@site/src/components/ui/GradientText';
import GradientButton from '@site/src/components/ui/GradientButton';

<DocSubtitle>
Ownership management facet for Compose diamonds
</DocSubtitle>

<Callout type="info" title="Key Features">
- Provides a standard interface for diamond ownership management.
- Supports transferring ownership to a new address.
- Allows for the complete renouncement of ownership.
</Callout>

## Overview

The OwnerFacet provides essential ownership management capabilities for a Compose diamond. It allows for the retrieval of the current owner and facilitates the transfer or renouncement of ownership, ensuring controlled administration of the diamond's core functions.

---

## Storage

### OwnerStorage

<ExpandableCode language="solidity" maxLines={15} title="Definition">
{`struct OwnerStorage {
    address owner;
}`}
</ExpandableCode>

---
### State Variables

<PropertyTable
  properties={[
    {
      name: "STORAGE_POSITION",
      type: "constant",
      description: "Diamond storage slot position for this module"
    }
  ]}
  showRequired={false}
/>

## Functions

### getStorage

Returns a pointer to the owner storage struct. Uses inline assembly to access the storage slot defined by STORAGE_POSITION.

<ExpandableCode language="solidity" maxLines={8}>
{`function getStorage() internal pure returns (OwnerStorage storage s);`}
</ExpandableCode>

**Returns:**

<PropertyTable
  properties={[
    {
      name: "s",
      type: "OwnerStorage",
      description: "The OwnerStorage struct in storage."
    }
  ]}
  showRequired={false}
/>

---
### owner

Get the address of the owner

<ExpandableCode language="solidity" maxLines={8}>
{`function owner() external view returns (address);`}
</ExpandableCode>

**Returns:**

<PropertyTable
  properties={[
    {
      name: "-",
      type: "address",
      description: "The address of the owner."
    }
  ]}
  showRequired={false}
/>

---
### transferOwnership

Set the address of the new owner of the contract Set _newOwner to address(0) to renounce any ownership.

<ExpandableCode language="solidity" maxLines={8}>
{`function transferOwnership(address _newOwner) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_newOwner",
      type: "address",
      description: "The address of the new owner of the contract"
    }
  ]}
  showRequired={false}
/>

---
### renounceOwnership

<ExpandableCode language="solidity" maxLines={8}>
{`function renounceOwnership() external;`}
</ExpandableCode>

## Events

<AccordionGroup>
  <Accordion title="OwnershipTransferred" defaultOpen={false}>

    <div style={{marginBottom: "1rem"}}>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
{`event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);`}
      </ExpandableCode>
    </div>

  </Accordion>
</AccordionGroup>

## Errors

<AccordionGroup>
  <Accordion title="OwnerUnauthorizedAccount" defaultOpen={false}>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error OwnerUnauthorizedAccount();
      </ExpandableCode>
    </div>
  </Accordion>
</AccordionGroup>

## Usage Example

<ExpandableCode language="solidity" maxLines={20} title="Example Implementation">
{`pragma solidity ^0.8.30;

import {IOwnerFacet} from "@compose-protocol/diamond-core/contracts/facets/Owner/IOwnerFacet.sol";
import {DiamondProxy} from "@compose-protocol/diamond-core/contracts/diamond/DiamondProxy.sol";

contract OwnerFacetUser {
    IOwnerFacet ownerFacet;

    constructor(address diamondProxyAddress) {
        ownerFacet = IOwnerFacet(diamondProxyAddress);
    }

    function getCurrentOwner() external view returns (address) {
        return ownerFacet.owner();
    }

    function transferDiamondOwnership(address _newOwner) external {
        ownerFacet.transferOwnership(_newOwner);
    }

    function renounceDiamondOwnership() external {
        ownerFacet.renounceOwnership();
    }
}`}
</ExpandableCode>

## Best Practices

<Callout type="tip" title="Best Practice">
- Initialize ownership with a trusted address during diamond deployment.
- Use `transferOwnership` to designate a new owner and confirm the transfer by the new owner calling `transferOwnership` with their address.
- Grant `transferOwnership` and `renounceOwnership` permissions to a secure administrative role or the current owner.
</Callout>

## Security Considerations

<Callout type="warning" title="Security">
Access to `transferOwnership` and `renounceOwnership` must be strictly controlled to prevent unauthorized changes to diamond administration. Ensure that the address set as the new owner is verified before the transfer is finalized. Renouncing ownership should be done with extreme caution as it permanently relinquishes control.
</Callout>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <WasThisHelpful pageId="OwnerFacet" />
</div>

<LastUpdated date="2025-12-19T22:45:33.943Z" />
