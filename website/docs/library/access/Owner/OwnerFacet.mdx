---
sidebar_position: 2
title: "OwnerFacet"
description: "Manages contract ownership and transfer"
gitSource: "https://github.com/Perfect-Abstractions/Compose/tree/main/src/access/Owner/OwnerFacet.sol"
---

import DocSubtitle  from '@site/src/components/docs/DocSubtitle';
import Badge from '@site/src/components/ui/Badge';
import Callout from '@site/src/components/ui/Callout';
import CalloutBox from '@site/src/components/ui/CalloutBox';
import Accordion, { AccordionGroup } from '@site/src/components/ui/Accordion';
import PropertyTable from '@site/src/components/api/PropertyTable';
import ExpandableCode from '@site/src/components/code/ExpandableCode';
import CodeShowcase from '@site/src/components/code/CodeShowcase';
import RelatedDocs from '@site/src/components/docs/RelatedDocs';
import WasThisHelpful from '@site/src/components/docs/WasThisHelpful';
import LastUpdated from '@site/src/components/docs/LastUpdated';
import ReadingTime from '@site/src/components/docs/ReadingTime';
import GradientText from '@site/src/components/ui/GradientText';
import GradientButton from '@site/src/components/ui/GradientButton';

<DocSubtitle>
Manages contract ownership and transfer
</DocSubtitle>

<Callout type="info" title="Key Features">
- Provides `owner`, `transferOwnership`, and `renounceOwnership` functions.
- Manages ownership state within the diamond's shared storage.
- Reverts with `OwnerUnauthorizedAccount` if unauthorized attempts are made.
- Compatible with ERC-2535 diamond standard.
</Callout>

## Overview

This facet implements ownership management for a diamond, allowing for secure transfer and renouncement of ownership. It provides external functions to view the current owner and change ownership, interacting with the diamond's shared storage for owner state. Developers integrate this facet to establish clear ownership and control over diamond functionalities.

---

## Storage

### OwnerStorage

<ExpandableCode language="solidity" maxLines={15} title="Definition">
{`struct OwnerStorage {
    address owner;
}`}
</ExpandableCode>

### State Variables

<PropertyTable
  properties={[
    {
      name: "STORAGE_POSITION",
      type: "bytes32",
      description: "Diamond storage slot position for this module (Value: `keccak256(\"compose.owner\")`)"
    }
  ]}
  showRequired={false}
/>

## Functions

### owner

Get the address of the owner

<ExpandableCode language="solidity" maxLines={8}>
{`function owner() external view returns (address);`}
</ExpandableCode>

**Returns:**

<PropertyTable
  properties={[
    {
      name: "-",
      type: "address",
      description: "The address of the owner."
    }
  ]}
  showRequired={false}
/>

---
### transferOwnership

Set the address of the new owner of the contract Set _newOwner to address(0) to renounce any ownership.

<ExpandableCode language="solidity" maxLines={8}>
{`function transferOwnership(address _newOwner) external;`}
</ExpandableCode>

**Parameters:**

<PropertyTable
  properties={[
    {
      name: "_newOwner",
      type: "address",
      description: "The address of the new owner of the contract"
    }
  ]}
  showRequired={false}
/>

---
### renounceOwnership

<ExpandableCode language="solidity" maxLines={8}>
{`function renounceOwnership() external;`}
</ExpandableCode>

## Events

<AccordionGroup>
  <Accordion title="OwnershipTransferred" defaultOpen={false}>

    <div style={{marginBottom: "1rem"}}>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
{`event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);`}
      </ExpandableCode>
    </div>

  </Accordion>
</AccordionGroup>

## Errors

<AccordionGroup>
  <Accordion title="OwnerUnauthorizedAccount" defaultOpen={false}>

    <div>
      <strong>Signature:</strong>
      <ExpandableCode language="solidity" maxLines={5}>
error OwnerUnauthorizedAccount();
      </ExpandableCode>
    </div>
  </Accordion>
</AccordionGroup>

<!-- Usage Example section commented out for now -->
<!--
## Usage Example

<ExpandableCode language="solidity" maxLines={20} title="Example Implementation">
{`pragma solidity >=0.8.30;

import { IOwner } from "@compose/access/Owner/OwnerFacet";

contract MyDiamond is IOwner {
    address immutable DIAMOND_ADDRESS;

    constructor(address initialOwner) {
        // Initialize owner state via the diamond proxy
        // This assumes the diamond proxy is already deployed and configured
        // The actual initialization logic would be part of the diamond deployment script
        DIAMOND_ADDRESS = address(this);
        // Example of calling the facet's function through the diamond proxy
        // In a real deployment, this would likely be done during setup
        // transferOwnership(initialOwner);
    }

    // Function to demonstrate calling the owner function through the diamond
    function getCurrentOwner() external view returns (address) {
        return IOwner(DIAMOND_ADDRESS).owner();
    }

    // Function to demonstrate calling transferOwnership through the diamond
    function changeOwner(address newOwner) external {
        IOwner(DIAMOND_ADDRESS).transferOwnership(newOwner);
    }

    // Function to demonstrate calling renounceOwnership through the diamond
    function giveUpOwnership() external {
        IOwner(DIAMOND_ADDRESS).renounceOwnership();
    }
}`}
</ExpandableCode>
-->

## Best Practices

<Callout type="tip" title="Best Practice">
- Initialize the owner address during diamond deployment.
- Enforce access control on functions that change ownership.
- Use `renounceOwnership` carefully, as it cannot be undone.
</Callout>

## Security Considerations

<Callout type="warning" title="Security">
All state-changing functions require ownership. The `transferOwnership` function allows setting the new owner to `address(0)` to renounce ownership. Input validation for `_newOwner` is handled by the function logic. Follow standard Solidity security practices for contract interactions.
</Callout>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <RelatedDocs
    items={[
      {
        title: "OwnerTwoStepsFacet",
        href: "/docs/library/access/OwnerTwoSteps/OwnerTwoStepsFacet",
        description: "Related facet in access",
        icon: "ðŸ’Ž"
      },
      {
        title: "AccessControlPausableFacet",
        href: "/docs/library/access/AccessControlPausable/AccessControlPausableFacet",
        description: "Related facet in access",
        icon: "ðŸ’Ž"
      },
      {
        title: "AccessControlTemporalFacet",
        href: "/docs/library/access/AccessControlTemporal/AccessControlTemporalFacet",
        description: "Related facet in access",
        icon: "ðŸ’Ž"
      }
    ]}
  />
</div>

<div style={{marginTop: "3rem", paddingTop: "2rem", borderTop: "1px solid var(--ifm-color-emphasis-200)"}}>
  <WasThisHelpful pageId="OwnerFacet" />
</div>

<LastUpdated date="2025-12-30T18:49:42.175Z" />
